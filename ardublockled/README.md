#《Ardublock玩转机器人》—点亮LED（下）

作者：谢作如 刘正云

##闪烁的LED
既然要用Ardublock玩转机器人，仅仅点亮板卡自带的LED指示灯是远远不能满足我们要求的，但是过于复杂的项目又让人见而生怯。所谓万丈高楼平地起，那就让我们放慢脚步，继续从LED入手，循序渐进往前迈吧。
##一、问题描述
本篇一共安排了两个项目，先制作闪烁的LED，然后再模拟交通灯的效果。闪烁的LED比较简单，说白了，就是让LED一闪一灭，一闪一灭，不断地明灭变化。而交通灯稍微复杂一点，涉及到红绿黄三盏灯，具体而言，可以是红灯亮A秒之后灭掉，绿灯亮B秒之后灭掉，黄灯亮C秒之后灭掉，以此类推。

##二、知识介绍

在制作闪烁的LED之前，先来了解一下LED吧。

LED（Light Emitting Diode，发光二极管）是一种能够将电能转化为可见光的固态半导体器件，它可以直接把电能转化为光，具有体积小、耗电量低、高亮度低热量、使用寿命长的特点，是Arduino机器人作品中实现光效功能的最佳选择。LED发光模块具有红、绿、蓝等多种颜色，并且只能显示一种颜色。下面这个就是最常见的LED了。

![](http://doask.qiniudn.com/openbook9-arduinoblocktwo1.PNG)

我们这个系列课程使用的是DFRobot出品的数字食人鱼LED模块，利用SMT将LED二极管焊在可爱的PCB板上，然后引出3P接口，我们通过3P线将LED发光模块插到Arduino上，这种LED模块用三极管放大了电流，非常亮，不要长时间直视哦。LED发光模块如下图所示。

![](http://doask.qiniudn.com/openbook9-arduinoblocktwo2.png)

##三、制作闪烁LED
###1.硬件搭建

第一步是连接LED发光模块与Arduino Romeo控制器。黑线接GND，红线接5V，第三根线接数字针脚。要注意的是数字针脚0和1用于计算机和Arduino之间的通信(数字针脚0用于接收信号，数字针脚1用于发送信号),所以在接线的时候，尽量不要将LED发光模块接在数字针脚0和1上。接线图如下。

![](http://doask.qiniudn.com/openbook9-arduinoblocktwo3.png)

###2.程序编写

数字针脚的值为1或0，即高电平或低电平，我们使用的这款LED发光模块，高电平可以点亮LED，而低电平则熄灭LED。延迟模块的功能是上一个模块执行的持续时间，例如延迟1000毫秒，指的是上一个模块会持续执行1000毫秒。

制作闪烁LED具体描述如下：LED亮一段时间，再灭一段时间，不断循环反复。

相应程序应该如下：给LED发光模块对应的数字针脚一个高电平，延迟一段时间，再给该数字针脚一个低电平，延迟一段时间。
参考程序如下：

![](http://doask.qiniudn.com/openbook9-arduinoblocktwo4.png)

记得在下载程序之前，在工具选项里查看是否选择了正确的板卡（Romeo V1版本要选择UNO）和端口，ArduBlock编程环境里面的数字针脚号是否与LED发光模块接到Arduino控制器上的数字针脚号一致。

你的LED闪烁起来了吗？

##四、制作模拟交通灯

现在你是不是已经知道怎样制作模拟交通灯了？是的，模拟交通灯就是在闪烁LED的基础上，将一盏灯的亮灭变成了三盏灯的亮灭，看起来很简单是不是？试试吧。
###1.硬件搭建
将红、绿、黄三盏LED发光模块分别接到Arduino控制器的数字针脚。我这里接在了数字针脚3、4、5号。你记住自己接在哪些口了吗？要注意接线次序，黑线接GND，红线接5V，第三根线接数字信号口。
###2.程序编写
制作模拟交通灯具体描述如下：红色LED亮一段时间后灭掉，绿色LED亮一定时间后灭掉，黄色LED亮一定时间后灭掉，不断循环反复。下面的代码理解起来应该不难。
参考程序如下：


![](http://doask.qiniudn.com/openbook9-arduinoblocktwo5.png)

##五、拓展应用

似乎还意犹未尽？没关系，流水灯，广告灯，霹雳灯，按钮控制的LED，光控灯、声控灯......创意是无穷无尽的，赶紧动起来吧。如果有困难，那就关注我们的下一个专题，跟我们一起使用Ardublock玩转机器人。




